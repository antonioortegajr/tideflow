<template name="flows.one.edit">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="page-header mb-4">
          <h2>
            {{flow.title}}
          </h2>
          {{#if flow.description}}
            <p class="lead">
              {{flow.description}}
            </p>
          {{/if}}
        </div>
      </div>
    </div>
    {{#autoForm collection=Flows id="updateFlowForm" type="method" doc=flow meteormethod="flows.update"}}
    {{> afQuickField name='_id' value=flow._id type='hidden'}}
    <div class="row">
      <div class="col-md-9">
        {{> flowEditor}}
      </div>
      <div class="col-md-3">
        <div class="card">
          <div class="card-body">
            {{> afQuickField name='title'}}
            {{> afQuickField name='status'}}
            {{> afQuickField name='description' type='textarea'}}
            {{> afQuickField name='emailOnTrigger'}}
            <button type="submit" class="btn btn-primary">{{__ "flows.edit.submit"}}</button>
          </div>
        </div>
        <button class="btn btn-sm btn-outline-danger flows-one-delete float-right">{{__ "flows.one.remove"}}</button>
      </div>
    </div>
    {{/autoForm}}
  </div>
</template>