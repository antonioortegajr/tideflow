<template name="channels.one.edit">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="page-header mb-4">
          <h2>
            {{channel.title}}
          </h2>
          <p class="lead">
            {{#if channel.description}}
              {{channel.description}}
            {{else}}
              -
            {{/if}}
          </p>
        </div>
      </div>
    </div>

    {{#autoForm collection=Channels id="updateChannelForm" type="method" doc=channel meteormethod="channels.update"}}

    {{> afQuickField name='_id' type='hidden' value=channel._id}}
    {{> afQuickField name='type' type='hidden' value=channel.type}}
    <div class="row">
      <div class="col-md-8">

        {{#if channelService.templates.detailsView}}
          <div class="row">
            <div class="col-12">
              {{> Template.dynamic template=channelService.templates.detailsView}}
            </div>
          </div>
        {{/if}}
    
        {{#if channelUpdateFormPre}}
          <div class="row">
            <div class="col-md-12">
              {{> Template.dynamic template=channelUpdateFormPre}}
            </div>
          </div>
        {{/if}}

        {{#if channelUpdateForm}}
          <div class="row">
            <div class="col-md-12">
              <div class="card">
                <div class="card-body">
                  {{> Template.dynamic template=channelUpdateForm}}
                </div>
              </div>
            </div>
          </div>
        {{/if}}
      </div>
      <div class="col-md-4">
        <div class="card">
          <div class="card-body">
            {{> afQuickField name='title'}}
            {{> afQuickField name='description' type='textarea'}}
            <button type="submit" class="btn btn-primary">{{__ "channels.edit.submit"}}</button>
          </div>
        </div>
        <button class="btn btn-sm btn-outline-danger delete float-right">{{__ "channels.one.remove"}}</button>
      </div>
    </div>
    {{/autoForm}}
  </div>
</template>