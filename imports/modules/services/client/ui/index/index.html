<template name="services.index">
  <div class="container">
    <div class="row">
      <div class="col-md-9">
        <div class="page-header mb-4">
          <h2>
            {{__ "services.index.title"}}
          </h2>
          <p class="lead">{{__ "services.index.subtitle"}}</p>
        </div>
      </div>
      <div class="col-md-3">
        <a href="{{pathFor 'services.new'}}" class="float-right btn btn-success mt-5 mb-4">{{__ "services.index.connectNew"}}</a>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 text-center mt-5">
        {{#if cursorIsEmpty services}}
          <p>{{__ "services.index.emptyListDescription"}}</p>
        {{else}}
          <div class="card-list">
            <div class="card-list-body">
              {{#each services}}
                {{> servicesIndexTableService}}
              {{/each}}
            </div>
          </div>
        {{/if}}
      </div>
    </div>
  </div>
</template>

<template name="servicesIndexTableService">
  <div class="card clickable card-task">
    <div class="card-body">
      <div class="mr-3 card-image card-mini-icon text-center">
        <i class="{{serviceProperty this.type 'icon'}}" style="color: {{serviceProperty this.type 'iconColor'}}"></i>
      </div>
      <div class="card-title mr-auto">
        <a href="{{pathFor 'services.one.edit' type=type _id=_id}}">
          <h6>
            {{#if isEq this.type 'agent'}}
              {{{sAgentReportStatusDot}}}
            {{/if}}
            <strong>{{serviceHumanName this.type}}:</strong>
            {{this.title}}
          </h6>
        </a>
        <span class="text-small">
          {{#if this.description}}
            {{this.description}}
          {{else}}
            -
          {{/if}}
          {{#if isEq this.type 'agent'}}
            <i><span class="text-muted">{{{sAgentReportStatus}}}</span></i>
          {{/if}}
        </span>
      </div>
      <div class="card-meta">
        <a href="{{pathFor 'services.one.edit' type=type _id=_id}}" class="btn btn-outline-primary">
          {{__ "services.index.itemView"}}
        </a>
      </div>
    </div>
  </div>
</template>